{% extends "base.html" %}

{% block title %}Topics{% endblock title %}

{% block content %}

    {% if thread_list|length == 0 %}
    <p>No thread has been opened yet. Boooooooooooring!</p>
    {% else %}
    {% for thread in thread_list %}
    <div>
        <div>
            {{thread.flag}}
        </div>
        <div>
            <h5>{{thread.title}}</h5>
            <p>by {{thread.author.display_name}} | {{thread.date_opened_at}}</p>
        </div>
        <div>
            <p>VIEWS</p>
            <p>{{ thread.views }}</p>
        </div>
        <div>
            <p>REPLIES</p>
            <p>{{ comment_count}}</p>
        </div>
        <div>
            <p>LAST COMMENT</p>
            <p>{{ last_comment }}</p>
        </div>
    </div>
    {% if thread.author == request.user and user.is_authenticated %}
    <a href="{% url 'thread_delete' thread.pk %}">Delete Thread</a>
    {% endif %}
    {% endfor %}
    {% endif %}
    {% if request.user.is_authenticated %}
    <a href="{% url 'thread_create' %}">Open New Thread</a>
    {% endif %}

{% endblock content %}